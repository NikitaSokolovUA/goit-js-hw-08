{"mappings":"qhBACA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAeC,SAASC,cAAc,kBAEtCC,EAAY,CACVC,MAAO,GACPC,QAAS,IA6CjB,SAAUC,IACN,MAAMC,EAA2BC,aAAaC,QAjDxB,uBAkDtB,OAAOC,KAAKC,MAAMJ,E,CA3CtBP,EAAaY,iBAAiB,UAO9B,SAAsBC,GAClB,MAAMC,EAAiBR,IACvBS,QAAQC,IAAIF,GAEZN,aAAaS,WAlBS,uBAoBtBjB,EAAaI,MAAMc,MAAQ,GAC3BlB,EAAaK,QAAQa,MAAQ,GAE7BL,EAAEM,gB,IAfNnB,EAAaY,iBAAiB,QAASQ,EAAAtB,EAAA,EAkBvC,SAAyCe,GACnB,UAElBA,EAAEQ,OAAOC,KACHnB,EAASC,MAAQS,EAAEQ,OAAOH,MAC1Bf,EAASE,QAAUQ,EAAEQ,OAAOH,MAElCV,aAAae,QAjCS,sBAiCkBb,KAAKc,UAAUrB,G,GAzBsB,MA6BjF,WACI,MAAMsB,EAAgCnB,IAElCmB,IACAzB,EAAaI,MAAMc,MAAQO,EAA8BrB,MACzDJ,EAAaK,QAAQa,MAAQO,EAA8BpB,Q,CAhCnEqB","sources":["src/js/03-feedback.js"],"sourcesContent":["\nimport throttle from \"../../node_modules/lodash/throttle\"\n\nconst feedbackForm = document.querySelector('.feedback-form')\nconst LOCAL_STORAGE_KEY = \"feedback-form-state\"\nconst settings =  {\n        email: '',\n        message: ''\n    }\n\n\nfeedbackForm.addEventListener('submit', handleSubmit)\nfeedbackForm.addEventListener('input', throttle(savedInputElementInLOcalStorage, 500))\n\ngettingInputElementFromLocal()\n\n\n\nfunction handleSubmit(e) {   \n    const settingsOfUser = getObjectOfForms()\n    console.log(settingsOfUser)    \n\n    localStorage.removeItem(LOCAL_STORAGE_KEY)\n\n    feedbackForm.email.value = ''\n    feedbackForm.message.value = ''\n\n    e.preventDefault()\n}\n\nfunction savedInputElementInLOcalStorage(e) {   \n    const SET_EMAIL = \"email\";\n\n    e.target.name === SET_EMAIL\n        ? settings.email = e.target.value\n        : settings.message = e.target.value\n   \n    localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(settings))\n\n}\n\nfunction gettingInputElementFromLocal() {\n    const parsetSettingFromLocalStorage = getObjectOfForms()\n\n    if (parsetSettingFromLocalStorage) {\n        feedbackForm.email.value = parsetSettingFromLocalStorage.email \n        feedbackForm.message.value = parsetSettingFromLocalStorage.message \n}\n    \n\n}\n\nfunction  getObjectOfForms() {\n    const savedSettingsFromStorage = localStorage.getItem(LOCAL_STORAGE_KEY)\n    return JSON.parse(savedSettingsFromStorage)\n}\n\n"],"names":["$8zd4h","parcelRequire","$945622fd0f572e60$var$feedbackForm","document","querySelector","$945622fd0f572e60$var$settings","email","message","$945622fd0f572e60$var$getObjectOfForms","savedSettingsFromStorage","localStorage","getItem","JSON","parse","addEventListener","e","settingsOfUser","console","log","removeItem","value","preventDefault","$parcel$interopDefault","target","name","setItem","stringify","parsetSettingFromLocalStorage","$945622fd0f572e60$var$gettingInputElementFromLocal"],"version":3,"file":"03-feedback.9770e1bf.js.map"}